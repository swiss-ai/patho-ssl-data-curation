# Revisiting Automatic Data Curation for Vision Foundation Models in Digital Pathology

**Abstract** Vision foundation models (FMs) are accelerating the devel- opment of digital pathology algorithms and transforming biomedical re- search. These models learn, in a self-supervised manner, to represent histological features in highly heterogeneous tiles extracted from whole- slide images (WSIs) of real-world patient samples. The performance of these FMs is significantly influenced by the size, diversity, and balance of the pre-training data. However, data selection has been primarily guided by expert knowledge at the WSI level, focusing on factors such as dis- ease classification and tissue types, while largely overlooking the granular details available at the tile level. In this paper, we investigate the poten- tial of unsupervised automatic data curation at the tile-level, taking into account 350 million tiles. Specifically, we apply hierarchical clustering trees to pre-extracted tile embeddings, allowing us to sample balanced datasets uniformly across the embedding space of the pretrained FM. We further identify these datasets are subject to a trade-off between size and balance, potentially compromising the quality of representations learned by FMs, and propose tailored batch sampling strategies to mitigate this effect. We demonstrate the effectiveness of our method through improved performance on a diverse range of clinically relevant downstream tasks.

We provide the code for running our visualization tool in [visualization_tool](visualization_tool).
